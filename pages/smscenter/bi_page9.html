<style>
    .box{
        overflow: hidden;
    }
    .date-select-bar{
        height: 34px;
        border: 1px solid #eee;
        font-size: 0;
        background: #fff;
        margin-bottom: 20px;
    }
    .date-select-bar button{
        height: 32px;
        line-height: 32px;
        padding: 0 15px;
        margin: 0;
        text-align: center;
        font-size: 12px;
        border: 0 none;
        border-right: 1px solid #eee;
        color: #333;
    }
    .date-select-bar .active{
        color: #fff;
        background: #4da7fd;
        border-color: #4da7fd
    }
    .togglebtn{
        height: 32px;
        text-align: center;
        border-top: 1px solid #f5f5f5;
    }
    .togglebtn span{
        display: inline-block;
        font-size: 26px;
        color: #333;
        cursor: pointer
    }
    .fangke {
        font-size: 0;
        margin-bottom: 20px;
    }
    .fangke li{
        display: inline-block;
        vertical-align: middle;
        width: 33.3333%;
        font-size: 16px;
        border-right: 1px solid #ededef;
    }
    .fangke li span{
        font-size: 24px;
    }
    .visit-type-new {
        color: #48cb6d;
    }
    .visit-type-old {
        color: #51a8f9;
    }
    .fangke_table th,.fangke_table td{
        width: 33.3333%;
    }
    .fangke_table td{
        padding: 8px 10px;
        border: 1px solid #ededef;
    }
    table tr:first-child td {
        border-top: 1px solid #ededef;
    }
    table tr td:first-child {
        border-left: 1px solid #ededef;
    }

</style>
    <aside class="right-side" ng-controller="page7Controller as showCase">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>渠道报表<small>流量報表</small></h1>
			<ol class="breadcrumb">
				<li><a href="index.html"><i class="fa fa-dashboard"></i>首页</a></li>
				<li class="active">流量報表</li>
			</ol>
        </section>

        <!-- Main content -->
        <section class="content">
				
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">今日流量</h3>
                        </div><!-- /.box-header -->
                        <div class="box-body">
                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <table class="no-line">
                                                <thead>
                                                    <th></th>
                                                    <th>浏览量(PV)</th>
                                                    <th>访客数(UV)</th>
                                                    <th>IP数</th>
                                                    <th>跳出率</th>
                                                    <th>平均访问时长</th>
                                                    <th>转化次数</th>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td style="width:10%">今日</td>
                                                        <td style="width:15%">--</td>
                                                        <td style="width:15%">--</td>
                                                        <td style="width:15%">--</td>
                                                        <td style="width:15%">--</td>
                                                        <td style="width:15%">--</td>
                                                        <td style="width:15%">--</td>
                                                    </tr>
                                                    <tr>
                                                        <td>昨日</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                    </tr>
                                                    <tr>
                                                        <td>预计今日</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                        <td>--</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="togglebtn"><span class="icon-wi-arrow-down"></div>
                                            <table class="no-line b_c moretable" style="display:none">
                                                <tbody>
                                                <tr>
                                                    <td style="width:10%">昨日此时</td>
                                                    <td style="width:15%">--</td>
                                                    <td style="width:15%">--</td>
                                                    <td style="width:15%">--</td>
                                                    <td style="width:15%">--</td>
                                                    <td style="width:15%">--</td>
                                                    <td style="width:15%">--</td>
                                                </tr>
                                                <tr>
                                                    <td>每日平均</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                </tr>
                                                <tr>
                                                    <td>历史峰值</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                    <td>--</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- /.box-body -->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="date-select-bar" id="date-select-bar">
                        <button class="active">今天</button>
                        <button class="">昨天</button>
                        <button class="">最近7天</button>
                        <button class="">最近30天</button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">趋势图</h3>
                        </div>
                        <div class="box-footer" id="chart_1" style="height:340px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Top10搜索词</h3>
                        </div>
                        <div class="box-body" style="height:340px;">
                            <table class="no-line">
                                <thead>
                                <tr class="no_background">
                                    <th>搜索词</th>
                                    <th>浏览量（PV）</th>
                                    <th>占比</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>热议</td>
                                    <td>922</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>收入统计</td>
                                    <td>654</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td>多媒体</td>
                                    <td>554</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>治疗疾病</td>
                                    <td>400</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td>钓鱼岛</td>
                                    <td>300</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td>热议</td>
                                    <td>922</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>收入统计</td>
                                    <td>654</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td>多媒体</td>
                                    <td>554</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>治疗疾病</td>
                                    <td>400</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td>钓鱼岛</td>
                                    <td>300</td>
                                    <td>20%</td>
                                </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Top10来源网站</h3>
                        </div>
                        <div class="box-body" style="height:340px;">
                            <table class="no-line">
                                <thead>
                                <tr class="no_background">
                                    <th>来源网站</th>
                                    <th>浏览量（PV）</th>
                                    <th>占比</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>百度</td>
                                    <td>922</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>360搜索</td>
                                    <td>654</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td>谷歌</td>
                                    <td>554</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td>即刻搜索</td>
                                    <td>400</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td>搜狗</td>
                                    <td>300</td>
                                    <td>20%</td>
                                </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Top10入口页面 </h3>
                        </div>
                        <div class="box-body" style="height:340px;">
                            <table class="no-line">
                                <thead>
                                <tr class="no_background">
                                    <th>入口页面</th>
                                    <th>浏览量（PV）</th>
                                    <th>占比</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.baidu.com</a></td>
                                    <td>922</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.baidu.com</a></td>
                                    <td>654</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.baidu.com</a></td>
                                    <td>554</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.baidu.com</a></td>
                                    <td>400</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.baidu.com</a></td>
                                    <td>300</td>
                                    <td>20%</td>
                                </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">Top10受访页面</h3>
                        </div>
                        <div class="box-body" style="height:340px;">
                            <table class="no-line">
                                <thead>
                                <tr class="no_background">
                                    <th>受访页面</th>
                                    <th>浏览量（PV）</th>
                                    <th>占比</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.zjkly.com.cn/old/a/jingdianquanlan/?from=</a></td>
                                    <td>922</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.zjkly.com.cn/old/a/jingdianquanlan/?from=</a></td>
                                    <td>654</td>
                                    <td>20%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.zjkly.com.cn/old/a/jingdianquanlan/?from=</a></td>
                                    <td>554</td>
                                    <td>10%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.zjkly.com.cn/old/a/jingdianquanlan/?from=</a></td>
                                    <td>400</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td><a href="http://www.baidu.com" target="_blank">http://www.zjkly.com.cn/old/a/jingdianquanlan/?from=</a></td>
                                    <td>300</td>
                                    <td>20%</td>
                                </tr>


                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">新老访客</h3>
                        </div>
                        <div class="box-body" style="height:340px;">
                            <div class="fangke">
                                <ul>
                                    <li><img style="display: block;margin: 0 auto" src="img/visit-type-icon.png"></li>
                                    <li style="padding-left:20px;"><p>新访客</p><span class="visit-type-new">75%</span></li>
                                    <li style="padding-left:20px;"><p>老访客</p><span class="visit-type-old">25%</span></li>
                                </ul>
                            </div>
                            <table class="fangke_table"><tbody><tr><td class="visit-type-detail-name">浏览量</td><td class="visit-type-detail-new">5</td><td class="visit-type-detail-old">1</td></tr><tr><td class="visit-type-detail-name">访客数</td><td class="visit-type-detail-new">3</td><td class="visit-type-detail-old">1</td></tr><tr><td class="visit-type-detail-name">跳出率</td><td class="visit-type-detail-new">50%</td><td class="visit-type-detail-old">100%</td></tr><tr><td class="visit-type-detail-name">平均访问时长</td><td class="visit-type-detail-new">00:01:16</td><td class="visit-type-detail-old">00:02:00</td></tr><tr><td class="visit-type-detail-name">平均访问页数</td><td class="visit-type-detail-new">1.67</td><td class="visit-type-detail-old">1</td></tr></tbody></table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">访客属性-年龄分布</h3>
                        </div>
                        <div class="box-footer" id="chart_2" style="height:340px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="box">
                        <div class="box-header">
                            <h3 class="box-title">地域分布</h3>
                        </div>
                        <div class="box-footer" id="chart_3" style="height:340px;"></div>
                    </div>
                </div>
            </div>
        </section><!-- /.content -->
    </aside><!-- /.right-side -->
    <!-- page script -->
    <script src="js/china.js"></script>
    <script type="text/javascript">
        $(function() {
            //筛选数据
            $(".btntab-btn").on("click",function(){
                var searchval = $(this).attr("value");
                $(this).addClass("active").siblings(".btntab-btn").removeClass("active");
            });
            //表格折叠
            $(".togglebtn").on("click",function(){
                if($(".moretable").is(':hidden')){
                    $(this).children("span").removeClass("icon-wi-arrow-down").addClass("icon-wi-arrow-top");

                }else {
                    $(this).children("span").removeClass("icon-wi-arrow-top").addClass("icon-wi-arrow-down");
                };
                $(".moretable").slideToggle(0);
            });
            //图表
            var myChart1 = echarts.init(document.getElementById('chart_1'),'wi');
            var myChart2 = echarts.init(document.getElementById('chart_2'),'wi');
            var myChart3 = echarts.init(document.getElementById('chart_3'),'wi');
            option1 = {
                backgroundColor: '#ffffff',
                title: {
                    text: ''
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    //data:['浏览量（PV）','访客数（UV）','其他'],
                    data:['前一日','上周同期'],
                    right: '30',
                    top:'3',
                    width: '200',
                    selectedMode:'single',
                    selected: {
                        '前一日': true,
                        '上周同期': false
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                toolbox: {
                    feature: {
                        saveAsImage: {}
                    }
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['0','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24']
                },
                yAxis: {
                    type: 'value'
                },
                series: [
                    {
                        name:'今天',
                        type:'line',
                        stack: '今天',
                        data:[12, 55, 22, 32, 123, 23, 44,12, 55, 22, 32, 123, 23, 44,12, 55, 22, 32, 123, 23, 44,33,44,55]
                    },
                    {
                        name:'前一日',
                        type:'line',
                        stack: '前一日',
                        data:[20, 25, 15, 6, 88, 123, 11,22,75,84,32,45,2,1,22,33,44,11,11,22,33,41,54,12]
                    },
                    {
                        name:'上周同期',
                        type:'line',
                        stack: '上周同期',
                        data:[12, 23, 23, 32, 11, 32, 12,42,32,12,32,43,12,42,45,76,54,35,42,5,6,2,4,1]
                    }
                ]
            };
            option2 = {
                color: ['#3398DB'],
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    },
                    formatter: '{b}:\n{c}%'
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        data : ['10-19岁', '20-29岁', '30-39岁', '40-49岁', '50-59岁'],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                ],
                yAxis : [
                    {
                        type : 'value',
                        axisLabel: {
                            show: true,
                            interval: 'auto',
                            formatter: '{value} %'
                        },
                        show: true
                    }
                ],
                series : [
                    {
                        name:'直接访问',
                        type:'bar',
                        barWidth: '60%',
                        itemStyle: {
                            normal: {
                                label: {
                                    show: false,
                                    position: 'top',
                                    formatter: '{b}{c}%'
                                }
                            }
                        },
                        data:[1, 30, 25, 18, 10]
                    }
                ]
            };
            var data = [
                {name: '海门', value: 9},
                {name: '鄂尔多斯', value: 12},
                {name: '招远', value: 12},
                {name: '舟山', value: 12},
                {name: '齐齐哈尔', value: 14},
                {name: '盐城', value: 15},
                {name: '赤峰', value: 16},
                {name: '青岛', value: 18},
                {name: '乳山', value: 18},
                {name: '金昌', value: 19},
                {name: '泉州', value: 21},
                {name: '南通', value: 23},
                {name: '拉萨', value: 24},
                {name: '云浮', value: 24},
                {name: '上海', value: 25},
                {name: '攀枝花', value: 25},
                {name: '承德', value: 25},
                {name: '汕尾', value: 26},
                {name: '丹东', value: 27},
                {name: '瓦房店', value: 30},
                {name: '延安', value: 38},
                {name: '咸阳', value: 43},
                {name: '南昌', value: 54},
                {name: '柳州', value: 54},
                {name: '三亚', value: 54},
                {name: '泸州', value: 57},
                {name: '克拉玛依', value: 72}
            ];

            var geoCoordMap = {};

            function convertData(data) {
                var res = [];
                for (var i = 0; i < data.length; i++) {
                    var geoCoord = geoCoordMap[data[i].name];
                    if (geoCoord) {
                        res.push({
                            name: data[i].name,
                            value: geoCoord.concat(data[i].value)
                        });
                    }
                }
                return res;
            };

            function randomValue() {
                return Math.round(Math.random()*1000);
            }

            option3 = {
                tooltip: {},
                visualMap: {
                    min: 0,
                    max: 1500,
                    left: 'left',
                    top: 'bottom',
                    text: ['High','Low'],
                    seriesIndex: [1],
                    inRange: {
                        color: ['#e0ffff', '#006edd']
                    },
                    calculable : true
                },
                geo: {
                    map: 'china',
                    roam: true,
                    label: {
                        normal: {
                            show: false,//设置地区名显示
                            textStyle: {
                                color: 'rgba(0,0,0,0.4)'
                            }
                        }
                    },
                    itemStyle: {
                        normal:{
                            borderColor: 'rgba(0, 0, 0, 0.2)'
                        },
                        emphasis:{
                            areaColor: null,
                            shadowOffsetX: 0,
                            shadowOffsetY: 0,
                            shadowBlur: 20,
                            borderWidth: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                },
                series : [
                    {
                        type: 'scatter',
                        coordinateSystem: 'geo',
                        data: convertData(data),
                        symbolSize: 20,
                        symbol: 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z',
                        symbolRotate: 35,
                        label: {
                            normal: {
                                formatter: '{b}',
                                position: 'right',
                                show: false
                            },
                            emphasis: {
                                show: true
                            }
                        },
                        itemStyle: {
                            normal: {
                                color: '#F06C00'
                            }
                        }
                    },
                    {
                        name: '浏览量',
                        type: 'map',
                        geoIndex: 0,
                        // tooltip: {show: false},
                        data:[
                            {name: '北京', value: randomValue()},
                            {name: '天津', value: randomValue()},
                            {name: '上海', value: randomValue()},
                            {name: '重庆', value: randomValue()},
                            {name: '河北', value: randomValue()},
                            {name: '河南', value: randomValue()},
                            {name: '云南', value: randomValue()},
                            {name: '辽宁', value: randomValue()},
                            {name: '黑龙江', value: randomValue()},
                            {name: '湖南', value: randomValue()},
                            {name: '安徽', value: randomValue()},
                            {name: '山东', value: randomValue()},
                            {name: '新疆', value: randomValue()},
                            {name: '江苏', value: randomValue()},
                            {name: '浙江', value: randomValue()},
                            {name: '江西', value: randomValue()},
                            {name: '湖北', value: randomValue()},
                            {name: '广西', value: randomValue()},
                            {name: '甘肃', value: randomValue()},
                            {name: '山西', value: randomValue()},
                            {name: '内蒙古', value: randomValue()},
                            {name: '陕西', value: randomValue()},
                            {name: '吉林', value: randomValue()},
                            {name: '福建', value: randomValue()},
                            {name: '贵州', value: randomValue()},
                            {name: '广东', value: randomValue()},
                            {name: '青海', value: randomValue()},
                            {name: '西藏', value: randomValue()},
                            {name: '四川', value: randomValue()},
                            {name: '宁夏', value: randomValue()},
                            {name: '海南', value: randomValue()},
                            {name: '台湾', value: randomValue()},
                            {name: '香港', value: randomValue()},
                            {name: '澳门', value: randomValue()}
                        ]
                    }
                ]
            };

            //使用刚指定的配置项和数据显示图表
            myChart1.setOption(option1);
            myChart2.setOption(option2);
            myChart3.setOption(option3);
            //自适应屏幕大小
            $(window).resize(function(){
                myChart1.resize();
                myChart2.resize();
                myChart3.resize();
            });

        });
    </script>